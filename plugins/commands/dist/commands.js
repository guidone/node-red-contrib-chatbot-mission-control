define(["code-plug","lodash","prop-types","react","rsuite"],(e,o,n,t,a)=>(()=>{"use strict";var l={496:(e,o,n)=>{n.r(o),n.d(o,{default:()=>w});var t=n(297),a=n.n(t),l=n(399);const r=window.Components;var m=n(222),s=n(804),c=n.n(s);const{StringType:i,ArrayType:u,ObjectType:d,DateType:p}=m.Schema.Types,g=m.Schema.Model({commands:u().of(d().shape({command:i().isRequired("Specify the command").addRule(e=>e.startsWith("/"),'Command should start with "/"'),slug:i().isRequired("Specifig a slug (shortcut) for a content")})).addRule(e=>{const o=e.map(e=>e.command);return c().uniq(o).length===o.length},"Some contents have the same command")});var f=n(229),b=n.n(f);console.log("Components",r);const{ContentAutocomplete:h}=r,C=({value:e,onChange:o,disabled:n=!1})=>a().createElement(m.FlexboxGrid,{justify:"space-between"},a().createElement(m.FlexboxGrid.Item,{colspan:8},a().createElement(m.Input,{value:e.command,placeholder:"/command",onChange:n=>o({...e,command:n})})),a().createElement(m.FlexboxGrid.Item,{colspan:15},a().createElement(h,{disabled:n,useSlug:!0,canCreate:!0,value:e.slug,fluid:!0,onChange:n=>o({...e,slug:n})})));C.propTypes={value:b().shape({slug:b().string,command:b().string}),onChange:b().func,disabled:b().bool};const y=C,{CollectionEditor:E}=r;console.log("Components",r);const{withConfigurationPage:v,HelpElements:S}=r,{NodeRedNode:x,SlugHelp:T,TypeCommand:k}=S;console.log("eseguo COMMANDS plugin");(0,l.plug)("sidebar",null,{id:"configuration",label:"Configuration",permission:"configure",icon:"cog",options:[{id:"commands",label:"Commands",url:"/configuration-commands"}]}),(0,l.plug)("pages",v("commands",({value:e,onSubmit:o=(()=>{}),disabled:n=!1})=>{const[l,r]=(0,t.useState)(e),[s,c]=(0,t.useState)(null),i=(0,t.useRef)(null);return a().createElement("div",null,a().createElement(m.Form,{model:g,disabled:!0,formValue:l,formError:s,ref:i,checkTrigger:"none",layout:"vertical",fluid:!0,onChange:e=>{r(e),c(null)},onCheck:e=>{c(e)}},a().createElement(m.FormGroup,null,a().createElement(m.ControlLabel,null,"Content Commands",a().createElement(m.HelpBlock,{tooltip:!0},"Select one or more content to be shown after a command-line message (like ",a().createElement("em",null,"/privacy"),", etc)")),a().createElement(m.FormControl,{name:"commands",accepter:E,form:y,labelAdd:"Add command",disabled:n,sortable:!1})),a().createElement(m.FormGroup,{style:{marginTop:"40px"}},a().createElement(m.ButtonToolbar,null,a().createElement(m.Button,{disabled:n,appearance:"primary",onClick:()=>{i.current.check()&&o(l)}},"Save configuration"),a().createElement(m.Button,{disabled:n,appearance:"default",onClick:()=>{confirm("Reset configuration?")&&r(e)}},"Reset")))))},{Legend:()=>a().createElement("div",null,a().createElement(x,null,"Commands"),a().createElement("p",null,"Use the this node to show some contents in response of some command-like messages from users, this is a perfect place to put some statics documents for pricacy or tos (for example ",a().createElement(k,null,"/privacy")," or ",a().createElement(k,null,"/terms"),")."),a().createElement(T,null)),title:"Commands"}),{permission:"configure",url:"/configuration-commands",title:"Commands",id:"configuration-commands"});const w={name:"command plugin"}},399:o=>{o.exports=e},804:e=>{e.exports=o},229:e=>{e.exports=n},297:e=>{e.exports=t},222:e=>{e.exports=a}},r={};function m(e){if(r[e])return r[e].exports;var o=r[e]={exports:{}};return l[e](o,o.exports,m),o.exports}return m.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return m.d(o,{a:o}),o},m.d=(e,o)=>{for(var n in o)m.o(o,n)&&!m.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},m.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),m.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},m(496)})());